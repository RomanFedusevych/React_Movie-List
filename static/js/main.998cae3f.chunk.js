(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{12:function(e){e.exports=JSON.parse('[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]')},18:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(4),c=a.n(r),s=(a(18),a(2)),o=(a(19),a(3)),l=a.n(o),u=a(7),d=a(13),p=a(12),m=(a(21),a(1)),b=function(e){var t=e.movie,a=Object(n.useState)(p),i=Object(s.a)(a,1)[0],r="";return i.forEach((function(e){for(var a=0;a<=t.genre_ids.length;a+=1)e.id===t.genre_ids[a]&&(r+="".concat(e.name," | "));return r})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{className:"movieCard__img",src:"https://image.tmdb.org/t/p/original/".concat(t.poster_path),alt:"movieImg"}),Object(m.jsx)("div",{className:"movieCard__title",children:t.title}),Object(m.jsxs)("div",{className:"movieCard__genre",children:[Object(m.jsx)("span",{className:"movieCard__genre--title",children:"Genre:"}),Object(m.jsx)("span",{children:" | "}),r]}),Object(m.jsx)("div",{className:"movieCard__year",children:t.release_date})]})},j="https://api.themoviedb.org/3/discover/movie?".concat("api_key=d02889a458f7e3d57af07edb461cf97e","&page=10"),v=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",t&&(n="&with_genres=".concat(t.value)),e.next=4,fetch("".concat(j).concat(n,"&page=").concat(a));case 4:return i=e.sent,e.abrupt("return",i.json());case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=[{value:"28",label:"Action"},{value:"12",label:"Adventure"},{value:"35",label:"Comedy"},{value:"80",label:"Crime"},{value:"18",label:"Drama"},{value:"14",label:"Fantasy"},{value:"36",label:"History"},{value:"27",label:"Horror"},{value:"53",label:"Thriller"},{value:"37",label:"Western"}],g=function(e){var t=e.updateData,a=e.pageApi,i=Object(n.useState)([]),r=Object(s.a)(i,2),c=r[0],o=r[1],p=Object(n.useState)(null),j=Object(s.a)(p,2),g=j[0],O=j[1],f=Object(n.useState)(0),h=Object(s.a)(f,1)[0],x=Object(n.useState)(9),y=Object(s.a)(x,1)[0];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(g,a);case 2:n=e.sent,o(n.results),t(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[g,a]);var N=h+y,A=N-y,C=c.sort((function(e,t){return new Date(t.release_date).getTime()-new Date(e.release_date).getTime()})).slice(A,N);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"App__selector",children:[Object(m.jsx)("span",{className:"App__selector--text",children:"Filtred by genres:"}),Object(m.jsx)(d.a,{className:"App__select",defaultValue:g,onChange:O,options:_})]}),Object(m.jsx)("ul",{className:"App__listContainer",children:C.map((function(e){return Object(m.jsx)("li",{className:"App__movieCard movieCard",children:Object(m.jsx)(b,{movie:e})},e.id)}))})]})},O=(a(39),function(e){for(var t=e.pageApi,a=e.setPageApi,n=[],i=1;i<=10;i+=1)n.push(i);return Object(m.jsxs)("div",{className:"App__pagination pagination",children:[Object(m.jsx)("button",{className:t<=1?"pagination__button btn btn-secondary disabled":"pagination__button btn btn-dark",type:"button",onClick:function(){return a((e=t)-1<=0?1:e-1);var e},children:"Prev"}),Object(m.jsx)("ul",{className:"pagination__list pagination",children:n.map((function(e){return Object(m.jsx)("li",{className:e===t?"pagination__item page-item active":"pagination__item page-item",children:Object(m.jsx)("a",{href:"#",className:"pagination__link page-link",onClick:function(){return a(e)},children:e})},e)}))}),Object(m.jsx)("button",{className:t>=10?"pagination__button btn btn-secondary disabled":"pagination__button btn btn-dark",type:"button",onClick:function(){return a(t<=10?t+1:t)},children:"Next"})]})}),f=function(){var e=Object(n.useState)(1),t=Object(s.a)(e,2),a=t[0],i=t[1];return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("div",{className:"App__movieList",children:[Object(m.jsx)(g,{updateData:function(e){i(e)},pageApi:a}),Object(m.jsx)(O,{pageApi:a,setPageApi:i})]})})};c.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(f,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.998cae3f.chunk.js.map